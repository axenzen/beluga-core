<script type="text/javascript">
    function showSummary() {
        document.getElementById('short_summary').style.display='none';
        document.getElementById('long_summary').style.display='block';
    }
</script>
<?php $titleFields = $this->solrDetails()->getCoreFields($this->driver, ['title']); //print_r($titleFields); ?>
<h3 property="name">
<?php if (!empty($titleFields['ShortTitle'][0])): ?>
    <?=$titleFields['ShortTitle'][0] ?>
    <?php if (!empty($titleFields['SubTitle'][0])): ?>
        : <?=$titleFields['SubTitle'][0] ?>
    <?php endif; ?>
    <?=$titleFields['TitleSection'][0] ?? '' ?>
    <?= !empty($titleFields['TitleStatement'][0]) ? '/ ' . $this->transEsc($titleFields['TitleStatement'][0]) : '' ?>
<?php else: ?>
    <?=$this->transEsc('no title') ?>
<?php endif; ?>
</h3>
<?php if (!empty($titleFields['Summary'][0])): ?>
    <?php $summary = $titleFields['Summary'][0]; ?>
<p id="short_summary">
    <?=$this->truncate($summary, 300) ?>
    <?php if(strlen($summary) > 300): ?>
    <br /><a href="javascript:showSummary()"><?=$this->transEsc('Full description')?></a>
</p>
<p id="long_summary" style="display:none">
    <?=$summary ?>
</p>
   <?php else: ?>
</p>
   <?php endif; ?>
<?php endif; ?>
<?php if (!empty($titleFields['ShortTitle']['originalLetters'])): ?>
        <p><strong><?=$this->transEsc('Original Letters')?>:</strong> <?=$titleFields['ShortTitle']['originalLetters']?></p>
<?php endif; ?>
